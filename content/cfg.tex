\chapter{Context-Free Grammars}

\section{Objectives}

\begin{itemize}
	\item Define Context Free Grammars (CFGs).
	\item Derive a string from a grammar.
	\item Specify the language generated by a CFG (read CFGs).
	\item Practice generating derivation trees.
	\item Design a context-free grammar for a given language (write CFGs).
	\item Recognize when a CFG is ambiguous.
\end{itemize}

\section{Introduction + Motivation}

The use of regular expressions involve parsing tokens in a programming language, or patterns in text.
However, they are not helpful for deriving \emph{syntax trees} in a programming language; note that the language of balanced parentheses is not regular, let alone a whole programming language.

\section{Definitions}

A \emph{context-free grammar} (CFG) consists of the following four parts:
\begin{itemize}
	\item $\Sigma$, a finite alphabet of \emph{terminals}.
	\item $V$, a finite set of \emph{variables}.
	\item $S \in V$, the \emph{start variable}.
	\item $R$, a finite set of \emph{grammar rules} (or \emph{productions}) of the form
	\[
		A \to \alpha,
	\]
	where $A \in V, \alpha \in (V \cup \Sigma)^\star$.
\end{itemize}

In effect, each rule corresponds to a single variable on the left side, and any combination of variables and terminals, of any length, on the right side.

A \emph{derivation of $x$} is a finite sequence of rule applications
\begin{lstlisting}[mathescape]
	$S => \alpha_1 => \cdots => \alpha_n => x$,
\end{lstlisting}
where $x \in \Sigma^\star$ (i.e., only consists of terminals).
We denote this as $S \Rightarrow^\star x$.
A derivation is \emph{leftmost} if the rule application from $\alpha_i \Rightarrow \alpha_{i+1}$ is applied to the ``left most'' variable in $\alpha_i$.

The \emph{language of a CFG $G$} is the set of all strings $x \in \Sigma^\star$ such that $S \Rightarrow^\star x$.
A language $L$ is \emph{context-free} (i.e., CFL) if it is the language of some CFG.

\subsection{Ambiguous Grammars}

A CFG $G$ is \emph{ambiguous} if there exists a string $x \in \Sigma^\star$ such that there are two distinct \emph{leftmost} derivations of $x$ in $G$.
In other words, the string $x$ can be parsed in multiple ways. 

For example, consider the following CFG:
\begin{lstlisting}[mathescape]
	$S -> a|Sa|bSS|SSb|SbS$
\end{lstlisting}

This grammar is ambiguous because the string $baa$ can be derived in two ways:
\begin{lstlisting}[mathescape]
	$S => bSS => baS => baa$
	$S => bSS => bSa => baa$
\end{lstlisting}

\section{Examples}

\section{Problems}
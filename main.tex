\documentclass[12pt,american,final, a4paper]{memoir}
\usepackage[T1]{fontenc}
\usepackage{csquotes}
\usepackage{babel}
\usepackage{enumitem}
\usepackage{geometry}
\usepackage{booktabs}
\usepackage{xparse}
\makeatletter
\let\afhead\@afterheading% For use with etoc
\makeatother
\usepackage{etoc}
\usepackage{float}
\usepackage[babel,final,tracking=true,kerning=true,verbose=silent,spacing=true,activate={true,nocompatibility}]{microtype}
\usepackage{graphicx}
\usepackage[all]{nowidow}  % avoids widow lines at all costs
\doublehyphendemerits=100000 % and hyphens on successive lines
\usepackage{textcomp}
\usepackage{newpxtext}
%usepackage{eulerpx}
%\usepackage[bb=boondox,scr=boondoxupr]{mathalpha}
%\DeclareSymbolFont{zeussymbols}{U}{zeus}{m}{n}
%\DeclareMathAccent{\hat}{\mathalpha}{zeussymbols}{222}%euler hat accent as in eulervm
\usepackage{mathtools,amssymb}
\usepackage[euler-hat-accent,euler-digits]{eulervm}
\usepackage[cal=euler,frak=euler,bb=boondox,scr=boondoxupr]{mathalpha}
\usepackage[type1]{cabin}
%usepackage[varqu,varl]{inconsolata}
\usepackage[backend=biber,style=alphabetic]{biblatex}
\addbibresource{sample.bib}
\usepackage[hypcap=true]{caption} % Anchors links to the beginning of their respective floats. Load after hyperref.
\usepackage[pdfencoding=auto,pdfborderstyle={/S/U/W 1}]{hyperref} % Clickable references.
\usepackage[noabbrev,nameinlink]{cleveref} % Names references automatically. Load after hyperref.
\usepackage{nameref}
\hypersetup{pdfprintscaling=None}
\usepackage[section]{placeins}
\makeatletter
\AtBeginDocument{%
  \expandafter\renewcommand\expandafter\subsection\expandafter{%
    \expandafter\@fb@secFB\subsection
  }%
}
\makeatother%
\usepackage{geometry}
\usepackage{algorithmicx}
\usepackage[ruled]{algorithm}
\usepackage{algpseudocode}
%\usepackage[dvipsnames]{xcolor}
\usepackage[amsmath,hyperref,thmmarks]{ntheorem}
\usepackage{thmtools}
\usepackage{todonotes}
\presetkeys{todonotes}{inline}{} % inline todos
\ExplSyntaxOn
\DeclareExpandableDocumentCommand{\IfNoValueOrEmptyTF}{mmm}
 {
  \IfNoValueTF{#1}{#2}
   {
    \tl_if_empty:nTF {#1} {#2} {#3}
   }
 }
\ExplSyntaxOff

\usetikzlibrary{automata,positioning}
%\setlist{nosep} % or \setlist{noitemsep} to leave space around whole list
\setlist{noitemsep}

% this is for CFGs
\usepackage{listings}
\lstset{columns=fullflexible,
  mathescape=true,
  xleftmargin=.25\textwidth,
  literate={->}{\ensuremath{\rightarrow{}}}{1}
  {=>}{\ensuremath{\mskip\medmuskip\Rightarrow{}}}{1}
  {|}{\ensuremath{\mathbin{}\mskip\medmuskip\vert\mskip\medmuskip}}{1}
  {a}{\ensuremath{a}}{1}
  {b}{\ensuremath{b}}{1}
  {c}{\ensuremath{c}}{1}
  {d}{\ensuremath{d}}{1}
  {e}{\ensuremath{e}}{1}
  {f}{\ensuremath{f}}{1}
  {g}{\ensuremath{g}}{1}
  {h}{\ensuremath{h}}{1}
  {i}{\ensuremath{i}}{1}
  {j}{\ensuremath{j}}{1}
  {k}{\ensuremath{k}}{1}
  {l}{\ensuremath{l}}{1}
  {m}{\ensuremath{m}}{1}
  {n}{\ensuremath{n}}{1}
  {o}{\ensuremath{o}}{1}
  {p}{\ensuremath{p}}{1}
  {q}{\ensuremath{q}}{1}
  {r}{\ensuremath{r}}{1}
  {s}{\ensuremath{s}}{1}
  {t}{\ensuremath{t}}{1}
  {u}{\ensuremath{u}}{1}
  {v}{\ensuremath{v}}{1}
  {w}{\ensuremath{w}}{1}
  {x}{\ensuremath{x}}{1}
  {y}{\ensuremath{y}}{1}
  {z}{\ensuremath{z}}{1}
  {A}{\ensuremath{A}}{1}
  {B}{\ensuremath{B}}{1}
  {C}{\ensuremath{C}}{1}
  {D}{\ensuremath{D}}{1}
  {E}{\ensuremath{E}}{1}
  {F}{\ensuremath{F}}{1}
  {G}{\ensuremath{G}}{1}
  {H}{\ensuremath{H}}{1}
  {I}{\ensuremath{I}}{1}
  {J}{\ensuremath{J}}{1}
  {K}{\ensuremath{K}}{1}
  {L}{\ensuremath{L}}{1}
  {M}{\ensuremath{M}}{1}
  {N}{\ensuremath{N}}{1}
  {O}{\ensuremath{O}}{1}
  {P}{\ensuremath{P}}{1}
  {Q}{\ensuremath{Q}}{1}
  {R}{\ensuremath{R}}{1}
  {S}{\ensuremath{S}}{1}
  {T}{\ensuremath{T}}{1}
  {U}{\ensuremath{U}}{1}
  {V}{\ensuremath{V}}{1}
  {W}{\ensuremath{W}}{1}
  {X}{\ensuremath{X}}{1}
  {Y}{\ensuremath{Y}}{1}
  {Z}{\ensuremath{Z}}{1}
}
\theoremstyle{plain}
\usepackage{mdframed} % for boxing things
\newmdtheoremenv[
outerlinewidth=2,leftmargin=40,%
rightmargin=40,backgroundcolor=yellow,%
outerlinecolor=blue,innertopmargin=0pt,%
splittopskip=\topskip,skipbelow=\baselineskip,%
skipabove=\baselineskip,ntheorem
]{theorem}{Theorem}

\newmdtheoremenv{definition}{Definition}
\newmdtheoremenv{corollary}{Corollary}
\newtheorem{claim}{Claim}
\theorembodyfont{\upshape}
\theoremheaderfont{\scshape\bfseries}
\newtheorem{prob}{Problem}
\crefname{prob}{problem}{problems}
\Crefname{prob}{Problem}{Problems}
\theoremstyle{nonumberplain}
\newtheorem{proof}{Proof}
% Proof environment for induction
\newenvironment{proofmathinduction}[1][\proofname]
{
	\begin{proof}[\textbf{\textup{Proof by Mathematical Induction}} on #1.]$ $\par\nobreak\ignorespaces
}{%
	\end{proof}
}

\newenvironment{proofstructuralinduction}[1][\proofname]
{
	\begin{proof}[\textbf{\textup{Proof by Structural Induction}}]$ $\par\nobreak\ignorespaces
	}{%
	\end{proof}
}

\NewDocumentCommand{\problem}{ommm}{%
  \IfNoValueOrEmptyTF{#1}{\begin{prob}[#2]\quitvmode}{\begin{prob}[#1]{\scshape\bfseries#2}\label{prob:#1}}
  \begin{itemize}
	\item[\textsc{Instance:}] #3
	\item[\textsc{Question:}] #4
  \end{itemize}
  \end{prob}
}

\newcommand{\FA}{\textsf{FA}}
\newcommand{\DFA}{\textsf{DFA}}
\newcommand{\NFA}{\textsf{NFA}}

\newcommand{\setofstatesname}{S}
\newcommand{\startstatename}{s_0}
\newcommand{\acceptstatesname}{A}
\newcommand{\tmacceptstatename}{s_{accept}}
\newcommand{\tmrejectstatename}{s_{reject}}

\newcommand{\arbitrarysubsetofstatesname}{X}

\newcommand{\transitionfunctionname}{\delta}
\newcommand{\inputalphabetname}{\Sigma}
\newcommand{\stackalphabetname}{\Gamma}
\newcommand{\tapealphabetname}{\Gamma}
\newcommand{\blanksymbol}{\sqcup}

\newcommand{\dfatuple}{(\setofstatesname, \inputalphabetname, \transitionfunctionname, \startstatename, \acceptstatesname)}
\newcommand{\nfatuple}{\dfatuple}
\newcommand{\tmtuple}{(\setofstatesname, \inputalphabetname, \tapealphabetname, \transitionfunctionname, \startstatename, \acceptstatesname)}

\newcommand{\Pcomplexity}{\textsf{P}}
\newcommand{\NP}{\textsf{NP}}

\newcommand{\natnums}{\mathbb{N}}
\newcommand{\integers}{\mathbb{N}}
\newcommand{\reals}{\mathbb{R}}

\newcommand{\union}{\cup}
\newcommand{\concat}{\circ}
\newcommand{\orop}{|}
\renewcommand{\complement}[1]{\overline{#1}}
\newcommand{\emptystring}{\varepsilon}

\newcommand{\Epsilon}{\varepsilon}

\newcommand{\powerset}[1]{\mathcal{P}(#1)}

\newcommand{\includecontent}[1]{\input{content/#1}}
% Force floats in right section.
%\chapterstyle{bianchi}
%\chapterstyle{ger}
\chapterstyle{ell}
\cftsetindents{part}{0em}{1.65em} % accommodate for part numbers (add some space)
\let\originalchapter\chapter%
\RenewDocumentCommand{\chapter}{som}{%
  \IfBooleanTF{#1}
    {\originalchapter*{#3}}
    {\IfNoValueTF{#2}
      {\originalchapter{#3}}
      {\originalchapter[#2]{#3}}%
    }% Manage chapter like normal command
\etocchecksemptiness% Check if ToC is empty if so, do nothing
\etocsettocstyle{% style before the chapter's ToC
\microtypesetup{protrusion=false}% Disable microtype for ToCs
\noindent\hrulefill\large\bfseries% Traces the line before Contents
\kern2ptContents\kern2pt\hrulefill% Spaces & line after Contents
\vspace{0.5\onelineskip}% Space below the top line
}
{%style after the chapter's ToC
\noindent\hrulefill% Trace the line below ToC
\par\nobreak\addvspace{\midchapskip}% Add spaces if needed
\afhead% Warn TeX engine we are after a heading (without effect if ToC empty, duplicate)
\microtypesetup{protrusion=false}% Re-enable microtype
}
\localtableofcontents\afhead\microtypesetup{protrusion=true}}% print the local ToC and setup like @afterheading
\etocsettocdepth{subsection} % chapters, sections, and subsections are in the Table of Contents

%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%

\setlrmarginsandblock{0.15\paperwidth}{*}{1} % Left and right margin
\setulmarginsandblock{0.15\paperwidth}{*}{1}  % Upper and lower margin
\setheaderspaces{*}{*}{1}

\checkandfixthelayout
 \pretitle{\vspace{0.1\paperwidth}\begin{center}\Huge\bfseries}
 \posttitle{\par\vfill\end{center}}
\predate{\vfill\begin{center}\large}
\showboxdepth=\maxdimen
\showboxbreadth=\maxdimen

\title{Easy Theory of Computation}
\author{Ryan E. Dougherty}
\date{}


\begin{document}

\hypersetup{pageanchor=false}% don't try to anchor on unnumbered pages & roman numbers
\begin{titlingpage}
\sffamily
\maketitle
\end{titlingpage}
\frontmatter
%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%---%%%
%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%
\microtypesetup{protrusion=false}% protrusion may lead to  leaders dots issues in TOCs. Disabling it for now
\tableofcontents
\microtypesetup{protrusion=true}
\mainmatter\hypersetup{pageanchor=true}%
%\part{Introduction}
%\input{content/introduction}
%\input{content/recursive_defs}
%\input{content/structural_induction}
\part{Regular Languages}
\input{content/dfa}
%\input{content/dfa_minimization}
%
%\input{content/nonregular_myhillnerode}
%\input{content/nonregular_pumpinglemma}
%
%\input{content/reg_closure_ops}
\input{content/nfa}
\input{content/powerset}

\input{content/regex}
\input{content/ardens_lemma}

\part{Context-Free Languages}
%\input{content/recursive_automata}
%\input{content/dpda}
%\input{content/pda}
\input{content/cfg}
%\input{content/pump_cfl}
%\input{content/ogden_lemma}
%
%\part{Turing Machines}
%
%\input{content/tm}
%\input{content/tm_variants_computing}
%\input{content/reduction}
%\input{content/chomsky_hierarchy}
%\input{content/universal_tm}
%
%\part{Unsolvable Problems}
\input{content/uncountable}
\input{content/unsolvable}
%
\part{Computational Complexity}
\input{content/p_np}

\end{document}
